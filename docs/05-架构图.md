# Fantastic-admin 系统架构图

## 整体架构图

```mermaid
graph TB
    subgraph "前端应用层"
        A[Vue 3 应用]
        B[组件库]
        C[路由系统]
        D[状态管理]
    end
    
    subgraph "业务逻辑层"
        E[权限管理]
        F[菜单管理]
        G[用户管理]
        H[系统设置]
    end
    
    subgraph "数据访问层"
        I[HTTP 请求]
        J[响应拦截]
        K[错误处理]
        L[数据转换]
    end
    
    subgraph "后端服务"
        M[认证服务]
        N[业务API]
        O[权限API]
        P[配置API]
    end
    
    A --> B
    A --> C
    A --> D
    B --> E
    B --> F
    B --> G
    B --> H
    E --> I
    F --> I
    G --> I
    H --> I
    I --> J
    J --> K
    K --> L
    L --> M
    L --> N
    L --> O
    L --> P
```

## 技术栈架构图

```mermaid
graph TB
    subgraph "核心框架"
        A[Vue 3]
        B[TypeScript]
        C[Vite]
    end
    
    subgraph "UI 框架"
        D[Element Plus]
        E[UnoCSS]
        F[Iconify]
    end
    
    subgraph "状态管理"
        G[Pinia]
        H[pinia-plugin-persistedstate]
    end
    
    subgraph "路由管理"
        I[Vue Router]
        J[路由守卫]
        K[动态路由]
    end
    
    subgraph "HTTP 客户端"
        L[Axios]
        M[请求拦截]
        N[响应拦截]
    end
    
    subgraph "开发工具"
        O[ESLint]
        P[Prettier]
        Q[Stylelint]
        R[Husky]
    end
    
    A --> D
    A --> G
    A --> I
    A --> L
    B --> A
    C --> A
    D --> E
    D --> F
    G --> H
    I --> J
    I --> K
    L --> M
    L --> N
    O --> P
    P --> Q
    Q --> R
```

## 目录结构架构图

```mermaid
graph TB
    subgraph "fantastic-admin"
        A[根目录]
        B[build]
        C[public]
        D[src]
        E[types]
        F[docs]
    end
    
    subgraph "src 目录"
        D1[api]
        D2[assets]
        D3[components]
        D4[layouts]
        D5[router]
        D6[store]
        D7[utils]
        D8[views]
        D9[App.vue]
        D10[main.ts]
    end
    
    subgraph "router 目录"
        D5A[guards.ts]
        D5B[index.ts]
        D5C[modules]
        D5D[routes.ts]
    end
    
    subgraph "store 目录"
        D6A[index.ts]
        D6B[modules]
    end
    
    subgraph "store/modules"
        D6B1[user.ts]
        D6B2[menu.ts]
        D6B3[route.ts]
        D6B4[settings.ts]
        D6B5[tabbar.ts]
        D6B6[keepAlive.ts]
    end
    
    A --> B
    A --> C
    A --> D
    A --> E
    A --> F
    D --> D1
    D --> D2
    D --> D3
    D --> D4
    D --> D5
    D --> D6
    D --> D7
    D --> D8
    D --> D9
    D --> D10
    D5 --> D5A
    D5 --> D5B
    D5 --> D5C
    D5 --> D5D
    D6 --> D6A
    D6 --> D6B
    D6B --> D6B1
    D6B --> D6B2
    D6B --> D6B3
    D6B --> D6B4
    D6B --> D6B5
    D6B --> D6B6
```

## 组件架构图

```mermaid
graph TB
    subgraph "应用入口"
        A[main.ts]
        B[App.vue]
    end
    
    subgraph "布局组件"
        C[layouts/index.vue]
        D[layouts/Header.vue]
        E[layouts/MainSidebar.vue]
        E1[layouts/SubSidebar.vue]
        F[layouts/Tabbar.vue]
        G[layouts/Main.vue]
    end
    
    subgraph "业务组件"
        H[views]
        H1[views/dashboard]
        H2[views/system]
        H3[views/example]
    end
    
    subgraph "通用组件"
        I[components]
        I1[components/Icon]
        I2[components/Form]
        I3[components/Table]
        I4[components/Dialog]
    end
    
    A --> B
    B --> C
    C --> D
    C --> E
    C --> E1
    C --> F
    C --> G
    G --> H
    H --> H1
    H --> H2
    H --> H3
    H1 --> I
    H2 --> I
    H3 --> I
    I --> I1
    I --> I2
    I --> I3
    I --> I4
```

## 数据流架构图

```mermaid
graph TB
    subgraph "用户交互"
        A[用户操作]
        B[组件事件]
    end
    
    subgraph "状态管理"
        C[Pinia Store]
        D[user store]
        E[menu store]
        F[route store]
        G[settings store]
        H[tabbar store]
        I[keepAlive store]
    end
    
    subgraph "API 调用"
        J[HTTP 请求]
        K[后端服务]
        L[数据响应]
    end
    
    subgraph "视图更新"
        M[响应式更新]
        N[组件重新渲染]
    end
    
    A --> B
    B --> C
    C --> D
    C --> E
    C --> F
    C --> G
    C --> H
    C --> I
    D --> J
    E --> J
    F --> J
    G --> J
    J --> K
    K --> L
    L --> C
    C --> M
    M --> N
```

## 路由架构图

```mermaid
graph TB
    subgraph "路由系统"
        A[Vue Router]
        B[路由守卫]
        C[路由配置]
    end
    
    subgraph "路由类型"
        D[constantRoutes]
        E[systemRoutes]
        F[asyncRoutes]
    end
    
    subgraph "路由模块"
        G[modules目录]
        H[示例路由模块]
        I[业务路由模块]
    end
    
    subgraph "权限控制"
        J[权限验证]
        K[动态路由]
        L[菜单生成]
    end
    
    A --> B
    A --> C
    C --> D
    C --> E
    C --> F
    F --> G
    G --> H
    G --> I
    B --> J
    J --> K
    K --> L
```

## 权限架构图

```mermaid
graph TB
    subgraph "权限系统"
        A[用户认证]
        B[权限管理]
        C[角色管理]
    end
    
    subgraph "权限类型"
        D[页面权限]
        E[操作权限]
        F[数据权限]
    end
    
    subgraph "权限实现"
        G[路由守卫]
        H[按钮权限]
        I[API权限]
    end
    
    subgraph "权限流程"
        J[用户登录]
        K[获取权限]
        L[生成路由]
        M[权限验证]
    end
    
    A --> B
    B --> C
    B --> D
    B --> E
    B --> F
    D --> G
    E --> H
    F --> I
    J --> K
    K --> L
    L --> M
```

## 主题架构图

```mermaid
graph TB
    subgraph "主题系统"
        A[主题配置]
        B[颜色方案]
        C[布局模式]
    end
    
    subgraph "主题实现"
        D[CSS变量]
        E[动态类名]
        F[样式切换]
    end
    
    subgraph "主题功能"
        G[亮色/暗色模式]
        H[主题色]
        I[圆角设置]
        J[布局模式]
    end
    
    subgraph "主题持久化"
        K[本地存储]
        L[系统偏好]
        M[用户设置]
    end
    
    A --> B
    A --> C
    B --> D
    C --> E
    D --> F
    E --> F
    F --> G
    F --> H
    F --> I
    F --> J
    G --> K
    H --> K
    I --> K
    J --> K
    K --> L
    K --> M
```

## 部署架构图

```mermaid
graph TB
    subgraph "开发环境"
        A[本地开发]
        B[Vite开发服务器]
        C[热更新]
    end
    
    subgraph "构建流程"
        D[Vite构建]
        E[代码压缩]
        F[资源优化]
        G[打包输出]
    end
    
    subgraph "部署环境"
        H[静态服务器]
        I[CDN加速]
        J[缓存策略]
    end
    
    subgraph "生产环境"
        K[浏览器]
        L[应用加载]
        M[运行时]
    end
    
    A --> B
    B --> C
    D --> E
    E --> F
    F --> G
    G --> H
    H --> I
    I --> J
    J --> K
    K --> L
    L --> M
```

## 扩展架构图

```mermaid
graph TB
    subgraph "核心系统"
        A[基础框架]
        B[核心功能]
        C[通用组件]
    end
    
    subgraph "扩展模块"
        D[插件系统]
        E[主题扩展]
        F[组件扩展]
    end
    
    subgraph "自定义开发"
        G[业务模块]
        H[自定义组件]
        I[自定义样式]
    end
    
    subgraph "第三方集成"
        J[第三方库]
        K[外部服务]
        L[API集成]
    end
    
    A --> D
    B --> E
    C --> F
    D --> G
    E --> H
    F --> I
    G --> J
    H --> K
    I --> L
```

## 总结

Fantastic-admin 采用了分层架构设计，从前端应用到后端服务，各层职责明确，通过清晰的接口进行交互。系统基于 Vue 3 + TypeScript + Vite 的现代前端技术栈，实现了组件化、模块化的开发模式，具有良好的可维护性和扩展性。

架构图展示了系统的整体结构、技术栈、目录结构、组件关系、数据流向、路由系统、权限控制、主题管理、部署方式和扩展能力，为开发者提供了全面的系统视图，便于理解和维护。